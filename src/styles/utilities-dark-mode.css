/**
 * Dark Mode Utilities
 *
 * Dark mode overrides for Tailwind utility classes used in HTML
 * This allows existing markup with bg-white, bg-slate-50, etc. to adapt to dark mode
 */

@layer utilities {
  /* ==================== DARK MODE BACKGROUND OVERRIDES ==================== */

  /* White backgrounds become dark containers */
  :root[data-theme="dark"] .bg-white {
    background-color: var(--md-sys-color-surface-container) !important;
  }

  :root[data-theme="dark"] .bg-white\/95 {
    background-color: oklch(from var(--md-sys-color-surface-container-highest) l c h / 0.95) !important;
  }

  /* Slate backgrounds adapt to dark mode */
  :root[data-theme="dark"] .bg-slate-50 {
    background-color: var(--md-sys-color-surface-container-low) !important;
    color: var(--md-sys-color-on-surface) !important;
  }

  :root[data-theme="dark"] .bg-slate-100 {
    background-color: var(--md-sys-color-surface-container) !important;
    color: var(--md-sys-color-on-surface) !important;
  }

  :root[data-theme="dark"] .bg-slate-200 {
    background-color: var(--md-sys-color-surface-container-high) !important;
    color: var(--md-sys-color-on-surface) !important;
  }

  :root[data-theme="dark"] .bg-slate-300 {
    background-color: var(--md-sys-color-surface-dim) !important;
  }

  /* ==================== DARK MODE TEXT COLOR OVERRIDES ==================== */

  :root[data-theme="dark"] .text-slate-700 {
    color: var(--md-sys-color-on-surface-variant) !important;
  }

  :root[data-theme="dark"] .text-slate-900 {
    color: var(--md-sys-color-on-surface) !important;
  }

  :root[data-theme="dark"] .text-slate-600 {
    color: var(--md-sys-color-on-surface-variant) !important;
  }

  :root[data-theme="dark"] .text-slate-500 {
    color: oklch(0.65 0.008 240) !important;
  }

  :root[data-theme="dark"] .text-slate-400 {
    color: oklch(0.55 0.008 240) !important;
  }

  /* ==================== DARK MODE BORDER OVERRIDES ==================== */

  :root[data-theme="dark"] .border-slate-200 {
    border-color: var(--md-sys-color-outline-variant) !important;
  }

  :root[data-theme="dark"] .border-slate-300 {
    border-color: var(--md-sys-color-outline) !important;
  }

  /* ==================== DARK MODE RING OVERRIDES ==================== */

  :root[data-theme="dark"] .hover\:bg-slate-100:hover {
    background-color: var(--md-sys-color-surface-container-high) !important;
  }

  :root[data-theme="dark"] .hover\:bg-slate-50:hover {
    background-color: var(--md-sys-color-surface-container) !important;
  }

  /* ==================== DARK MODE SELECT/INPUT OVERRIDES ==================== */

  /* Fix for select dropdowns */
  :root[data-theme="dark"] select {
    background-color: var(--md-sys-color-surface-container-low);
    color: var(--md-sys-color-on-surface);
    border-color: var(--md-sys-color-outline);
  }

  :root[data-theme="dark"] select option {
    background-color: var(--md-sys-color-surface-container);
    color: var(--md-sys-color-on-surface);
  }

  /* Fix for text inputs */
  :root[data-theme="dark"] input[type="text"],
  :root[data-theme="dark"] input[type="search"] {
    background-color: var(--md-sys-color-surface-container-low);
    color: var(--md-sys-color-on-surface);
    border-color: var(--md-sys-color-outline);
  }

  :root[data-theme="dark"] input[type="text"]::placeholder,
  :root[data-theme="dark"] input[type="search"]::placeholder {
    color: var(--md-sys-color-on-surface-variant);
    opacity: 0.7;
  }

  /* ==================== DARK MODE PRIMARY COLOR ADJUSTMENTS ==================== */

  /* Primary backgrounds need more contrast in dark mode */
  :root[data-theme="dark"] .bg-primary-50 {
    background-color: oklch(0.25 0.04 240) !important;
  }

  :root[data-theme="dark"] .bg-primary-100 {
    background-color: oklch(0.30 0.05 240) !important;
  }

  :root[data-theme="dark"] .text-primary-600 {
    color: oklch(0.70 0.12 240) !important;
  }

  :root[data-theme="dark"] .text-primary-700 {
    color: oklch(0.75 0.11 240) !important;
  }

  /* ==================== DARK MODE BADGE/CHIP COLORS ==================== */

  /* Yellow badges/chips */
  :root[data-theme="dark"] .bg-yellow-50 {
    background-color: oklch(0.25 0.05 90) !important;
  }

  :root[data-theme="dark"] .bg-yellow-100 {
    background-color: oklch(0.30 0.06 90) !important;
  }

  :root[data-theme="dark"] .text-yellow-700 {
    color: oklch(0.75 0.10 90) !important;
  }

  :root[data-theme="dark"] .text-yellow-800 {
    color: oklch(0.80 0.08 90) !important;
  }

  /* Green badges/chips */
  :root[data-theme="dark"] .bg-green-100 {
    background-color: oklch(0.25 0.05 150) !important;
  }

  :root[data-theme="dark"] .text-green-700 {
    color: oklch(0.70 0.10 150) !important;
  }

  /* Amber/Orange badges */
  :root[data-theme="dark"] .bg-amber-50 {
    background-color: oklch(0.25 0.05 75) !important;
  }

  :root[data-theme="dark"] .border-amber-200 {
    border-color: oklch(0.40 0.08 75) !important;
  }

  :root[data-theme="dark"] .text-amber-600 {
    color: oklch(0.70 0.12 75) !important;
  }

  :root[data-theme="dark"] .text-amber-800 {
    color: oklch(0.78 0.10 75) !important;
  }
}
